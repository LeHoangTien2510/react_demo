/* --- 1. LAYOUT TỔNG THỂ --- */
.user-layout-container {
    display: flex;
    background-color: #f5f5f5; /* Màu nền xám nhạt chuẩn Shopee */
    min-height: 100vh;
    font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
}

.main-content {
    flex: 1;
    display: flex;
    flex-direction: column;
    min-width: 0; /* Quan trọng để tránh vỡ layout flex */
}

/* Header trắng ở trên */
.shop-header { /* Nếu bạn dùng class trong JSX khác thì đổi tên class này */
    background: white;
    padding: 10px 20px; /* Shopee header khá gọn */
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 1px solid #e0e0e0;
    position: sticky; top: 0; z-index: 100;
    box-shadow: 0 1px 2px rgba(0,0,0,0.05);
}

/* --- 2. CONTAINER CHÍNH (GIỐNG SHOPEE) --- */
/* Class này bao quanh cả Products và Cart */
.shopping-inner-content {
    display: flex;
    width: 100%;
    max-width: 1200px; /* Giới hạn chiều rộng giống Shopee để nội dung tập trung */
    margin: 20px auto; /* Căn giữa màn hình */
    padding: 0 20px;
    gap: 20px; /* Khoảng cách giữa cột sản phẩm và giỏ hàng */
    align-items: flex-start; /* Để giỏ hàng sticky hoạt động tốt */
    box-sizing: border-box;
}

/* --- 3. KHU VỰC SẢN PHẨM (BÊN TRÁI) --- */
.products-area {
    flex: 1; /* Chiếm toàn bộ không gian còn lại */
    min-width: 0; /* Fix lỗi grid bên trong flex */
}

/* Thanh lọc/tìm kiếm */
.filter-bar {
    background: rgba(0,0,0,0.03); /* Màu nền filter nhẹ */
    padding: 10px;
    border-radius: 2px;
    display: flex;
    gap: 10px;
    margin-bottom: 10px;
    align-items: center;
}
.search-input { flex: 1; padding: 10px; border: 1px solid #e0e0e0; outline: none; border-radius: 2px; background: #fff; }
.search-input:focus { border-color: #ee4d2d; }
.category-select { padding: 10px; border: 1px solid #e0e0e0; outline: none; background: white; cursor: pointer; border-radius: 2px; }
.btn-search-trigger { background: #ee4d2d; color: white; border: none; padding: 0 20px; border-radius: 2px; font-weight: 500; cursor: pointer; height: 38px; }

/* --- 4. GRID SẢN PHẨM (DENSE LAYOUT) --- */
.product-grid {
    display: grid;
    /* Tự động điền đầy dòng. Mỗi thẻ ~190px (chuẩn Shopee) */
    grid-template-columns: repeat(auto-fill, minmax(190px, 1fr));
    gap: 10px; /* Khoảng cách nhỏ 10px */
}

.product-card {
    background: white;
    border: 1px solid transparent;
    border-radius: 2px;
    cursor: pointer;
    display: flex; flex-direction: column;
    transition: transform 0.1s ease-in-out;
    position: relative;
    overflow: hidden;
    height: 290px; /* Chiều cao cố định */
}

.product-card:hover {
    transform: translateY(-1px); /* Nổi lên nhẹ */
    border: 1px solid #ee4d2d; /* Viền cam khi hover */
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    z-index: 1;
}

/* Ảnh vuông vắn */
.card-img-wrapper {
    width: 100%;
    padding-top: 100%; /* Kỹ thuật tạo khung vuông 1:1 */
    position: relative;
    background: #fafafa;
}
.card-img-wrapper img {
    position: absolute; top: 0; left: 0;
    width: 100%; height: 100%;
    object-fit: cover;
}

/* Badge Yêu thích */
.shopee-badge {
    position: absolute; top: 10px; left: -4px;
    background: #ee4d2d; color: white;
    font-size: 10px; font-weight: 500; padding: 2px 5px;
    border-top-right-radius: 2px; border-bottom-right-radius: 2px; z-index: 2;
}
.shopee-badge::before { content: ""; position: absolute; left: 0; bottom: -3px; border-top: 3px solid #be331a; border-left: 3px solid transparent; }

/* Badge Hết hàng */
.out-of-stock-overlay {
    position: absolute; top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(255,255,255,0.7); z-index: 3;
    display: flex; align-items: center; justify-content: center;
}
.oos-label { background: #333; color: white; padding: 4px 10px; border-radius: 20px; font-size: 11px; }

/* Thông tin thẻ */
.card-body { padding: 10px; flex: 1; display: flex; flex-direction: column; justify-content: space-between; }

.product-name {
    font-size: 12px; color: #333; line-height: 1.4;
    margin-bottom: 5px;
    display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; /* Cắt dòng ... */
}

.product-info-row { font-size: 10px; color: #757575; margin-bottom: 5px; }

.product-footer { display: flex; justify-content: space-between; align-items: center; }
.price-wrapper { color: #ee4d2d; font-size: 16px; font-weight: 600; }
.currency-symbol { font-size: 10px; text-decoration: underline; margin-right: 1px; vertical-align: top; }

/* Nút thêm vào giỏ (Dấu +) */
.btn-card-add {
    width: 26px; height: 26px;
    background: white; border: 1px solid #ee4d2d; color: #ee4d2d;
    border-radius: 2px; cursor: pointer;
    display: flex; align-items: center; justify-content: center;
    font-size: 18px; line-height: 1;
    transition: 0.2s;
}
.btn-card-add:hover { background: #ee4d2d; color: white; }
.btn-card-add:disabled { border-color: #ccc; color: #ccc; background: #f5f5f5; cursor: not-allowed; }


/* --- 5. GIỎ HÀNG (STICKY BÊN PHẢI) --- */
.cart-sidebar {
    width: 300px; /* Cố định chiều rộng */
    background: white;
    border-radius: 2px;
    box-shadow: 0 1px 4px rgba(0,0,0,0.05);
    display: flex; flex-direction: column;
    flex-shrink: 0; /* Không bị co lại */

    /* Sticky: Trượt theo khi cuộn */
    position: sticky;
    top: 80px; /* Cách mép trên 80px */
    max-height: calc(100vh - 100px);
}

.cart-header { padding: 15px; border-bottom: 1px solid #f1f1f1; color: #ee4d2d; font-weight: 600; font-size: 15px; }
.cart-list { flex: 1; overflow-y: auto; padding: 10px; }
.cart-item { display: flex; gap: 10px; margin-bottom: 10px; border-bottom: 1px dashed #f5f5f5; padding-bottom: 10px; }
.cart-item img { width: 50px; height: 50px; border: 1px solid #e8e8e8; object-fit: cover; }
.cart-item-info { flex: 1; overflow: hidden; }
.cart-title { font-size: 12px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.cart-price { color: #ee4d2d; font-size: 12px; font-weight: bold; }
.c-control { display: flex; gap: 5px; margin-top: 5px; }
.c-control button { width: 22px; height: 22px; background: white; border: 1px solid #ddd; cursor: pointer; }
.cart-footer { padding: 15px; border-top: 1px solid #f1f1f1; background: #fafafa; }
.total-row { display: flex; justify-content: space-between; font-weight: bold; font-size: 14px; margin-bottom: 10px; }
.btn-checkout { width: 100%; background: #ee4d2d; color: white; border: none; padding: 12px; font-weight: bold; cursor: pointer; }
.btn-checkout:hover { opacity: 0.9; }

/* Scrollbar đẹp cho giỏ hàng */
.cart-list::-webkit-scrollbar { width: 4px; }
.cart-list::-webkit-scrollbar-thumb { background: #ccc; border-radius: 4px; }